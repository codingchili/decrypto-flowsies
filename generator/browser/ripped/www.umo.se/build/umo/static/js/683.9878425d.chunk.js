"use strict";(("undefined"!==typeof window?window:global).webpackChunkpwt_umoyoumo=("undefined"!==typeof window?window:global).webpackChunkpwt_umoyoumo||[]).push([[683],{73750:function(e,t,n){var s=n(27853),i=n(84531),a=n(6148),o=n(78932),l=n(66621),r=n(26364),c=n(742),d=n.n(c),m=n(23720),u=n(31255),h=n(45295),p=n(9648),_="showSensitiveImages",b=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).timer=null,e.state={isRendered:!1,isLoading:!1,isOpen:!1,isSensitiveActive:"false"===m.LT(_,e.props.cookies)},e.setWrapperRef=e.setWrapperRef.bind((0,a.Z)(e)),e.handleClickOutside=e.handleClickOutside.bind((0,a.Z)(e)),e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){27===(t.which||t.keyCode)&&e.setState({isOpen:!1})}),!1),document.addEventListener("click",this.handleClickOutside)}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.setState({isOpen:!1})}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleSetSensitiveImg",value:function(){this.state.isSensitiveActive?m.pC(_,"true"):m.pC(_,"false"),this.setState({isLoading:!0}),clearTimeout(this.timer),this.timer=setTimeout((function(){window.location.reload()}),1200)}},{key:"handleOpenDialog",value:function(){this.state.isOpen&&document.getElementById("sensitive-img-control")&&document.getElementById("sensitive-img-control").focus(),this.setState({isOpen:!this.state.isOpen,isRendered:!0})}},{key:"render",value:function(){var e=this;if("ArticlePage"!==this.props.PageTypeName)return null;if(!this.context.isAllowed("ShowSensitiveImagesCookie"))return null;var t=d()({"c-article-tools__btn-container":!0,"c-article-tools__btn-container--is-open":this.state.isOpen,"c-article-tools__btn-container--is-loading":this.state.isLoading}),n=d()({"c-article-tools__button":!0,"c-article-tools__button--sensitive-img":!0,"c-article-tools__button--is-active":this.state.isSensitiveActive});return(0,p.jsx)("div",{ref:this.setWrapperRef,className:"c-article-tools",children:(0,p.jsxs)("div",{className:t,children:[(0,p.jsxs)("button",{className:n,id:"sensitive-img-control","aria-controls":"sensitive-img-dialog","aria-expanded":this.state.isOpen,onClick:function(){return e.handleOpenDialog()},type:"button",children:[this.state.isSensitiveActive&&(0,p.jsx)("span",{children:this.props.Content.Translations.imagesarehidden}),!this.state.isSensitiveActive&&(0,p.jsx)("span",{children:this.props.Content.Translations.hideimages})]}),(0,p.jsx)("div",{id:"sensitive-img-dialog","aria-hidden":!this.state.isOpen,className:"c-article-tools__dialog",children:this.state.isRendered&&(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"c-article-tools__dialog__heading",children:this.props.Content.SensetiveImagesHeading}),(0,p.jsx)("span",{className:"c-article-tools__dialog__text",dangerouslySetInnerHTML:{__html:this.props.Content.SensetiveImagesText}}),(0,p.jsxs)("button",{onClick:function(){return e.handleSetSensitiveImg()},className:"c-article-tools__dialog__button",type:"button",children:[this.state.isSensitiveActive&&(0,p.jsx)("span",{className:"c-article-tools__dialog__button__text",children:this.props.Content.Translations.showsensetiveimages}),!this.state.isSensitiveActive&&(0,p.jsx)("span",{className:"c-article-tools__dialog__button__text",children:this.props.Content.Translations.hidesensetiveimages}),(0,p.jsx)(h.$j,{Modifiers:{"c-spinner--sensitive-img":!0}})]}),(0,p.jsx)("button",{"aria-controls":"sensitive-img-dialog","aria-expanded":this.state.isOpen,onClick:function(){return e.handleOpenDialog()},className:"c-article-tools__dialog__close",type:"button",children:(0,p.jsx)("span",{className:"show-for-sr",children:this.props.Content.Translations.closeimagedialog})})]})})]})})}}]),n}(r.Component);b.contextType=u.UE,t.Z=b},32139:function(e,t,n){var s=n(27853),i=n(84531),a=n(78932),o=n(66621),l=n(26364),r=n(742),c=n.n(r),d=n(9648),m=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isPosted:!1},e}return(0,i.Z)(n,[{key:"handleClick",value:function(e){this.setState({isPosted:!0,value:e})}},{key:"render",value:function(){var e=this,t=this.props.FeedbackRatingModel;return t?(0,d.jsxs)("div",{className:c()({rating:!0,"rating--is-posted":this.state.isPosted}),children:[t.Title&&(0,d.jsx)("h2",{className:"rating__heading",children:t.Title}),(0,d.jsxs)("div",{className:"rating__form",children:[(0,d.jsx)("button",{type:"button",className:c()({rating__lbl:!0,"rating__lbl--icon4":!0,"rating__lbl--selected":4===this.state.value}),value:"4",onClick:function(){return e.handleClick(4)},disabled:this.state.isPosted,children:(0,d.jsx)("span",{className:"show-for-sr",children:t.Satisfied})}),(0,d.jsx)("button",{type:"button",className:c()({rating__lbl:!0,"rating__lbl--icon3":!0,"rating__lbl--selected":3===this.state.value}),value:"3",onClick:function(){return e.handleClick(3)},disabled:this.state.isPosted,children:(0,d.jsx)("span",{className:"show-for-sr",children:t.SlightlySatisfied})}),(0,d.jsx)("button",{type:"button",className:c()({rating__lbl:!0,"rating__lbl--icon2":!0,"rating__lbl--selected":2===this.state.value}),value:"2",onClick:function(){return e.handleClick(2)},disabled:this.state.isPosted,children:(0,d.jsx)("span",{className:"show-for-sr",children:t.SlightlyUnsatisfied})}),(0,d.jsx)("button",{type:"button",className:c()({rating__lbl:!0,"rating__lbl--icon1":!0,"rating__lbl--selected":1===this.state.value}),value:"1",onClick:function(){return e.handleClick(1)},disabled:this.state.isPosted,children:(0,d.jsx)("span",{className:"show-for-sr",children:t.Unsatisied})})]})]}):null}}]),n}(l.Component);t.Z=m},5683:function(e,t,n){n.r(t);var s=n(18489),i=(n(26364),n(40393)),a=n(53757),o=n(81068),l=n(73750),r=n(32139),c=n(9648),d=(0,c.jsx)(i.BlockTypeRenderer,{Blocks:o});t.default=function(e){return(0,c.jsx)(a.Z,(0,s.Z)((0,s.Z)({},e),{},{BlockTypeRenderer:d,ArticleTools:l.Z,RatingComponent:(0,c.jsx)(r.Z,{FeedbackRatingModel:e.FeedbackRatingModel})}))}},92991:function(e,t,n){var s=n(18489),i=n(23430),a=n(27853),o=n(84531),l=n(6148),r=n(78932),c=n(66621),d=n(26364),m=n(742),u=n.n(m),h=n(23514),p=n(46698),_=n(98712),b=n(24462),v=n(72336),x=n(9648),g=function(e){(0,r.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).ctrls=[],e.validate=e.validate.bind((0,l.Z)(e)),e.handleSubmit=e.handleSubmit.bind((0,l.Z)(e)),e.collapsible=d.createRef(),e.state={isOpen:!1,isLoading:!1,Success:null,Text:null,Title:null,showSubmitForm:!1},e.submitForm=function(t){return fetch(e.props.FeedbackForm.Url,{method:"POST",body:t}).then((function(e){if(!e.ok)throw new Error(e.status);if(200!==e.status)throw new Error(e.statusText);return e.json()}))},e.SubmitForm=function(){var t=e.props,n=t.FeedbackForm,s=t.HsaId,i={user:"",url:t.PageUrl,hsaid:s||""};return n.SubjectLabel&&(i.subject=""),n.EmailLabel&&(i.email=""),n.CommentLabel&&(i.comment=""),(0,x.jsxs)(d.Fragment,{children:[(0,x.jsx)("div",{className:"contact-card-comment__success","aria-live":"polite",children:e.state.Success&&(0,x.jsxs)(d.Fragment,{children:[e.state.Title&&(0,x.jsx)("h3",{children:e.state.Title}),(0,x.jsx)("div",{dangerouslySetInnerHTML:{__html:e.state.Text}})]})}),!0!==e.state.Success&&(0,x.jsx)(h.J9,{validateOnChange:!1,validateOnBlur:!1,validate:e.validate,onSubmit:e.handleSubmit,initialValues:i,children:function(t){return(0,x.jsx)("form",{noValidate:!0,method:"post",onSubmit:t.handleSubmit,children:(0,x.jsxs)("fieldset",{children:[(0,x.jsx)("legend",{className:"show-for-sr",children:n.Title}),(0,x.jsx)("input",{type:"hidden",name:"hsaid",value:t.values.hsaid}),(0,x.jsx)("input",{className:"contact-card-comment__protected",type:"text",name:"user",defaultValue:t.values.user}),(0,x.jsx)("input",{type:"hidden",name:"url",value:t.values.url}),n.SubjectLabel&&(0,x.jsxs)(d.Fragment,{children:[(0,x.jsx)("label",{htmlFor:"subject",children:n.SubjectLabel}),(0,x.jsx)(v.Z,{component:"input",onBlur:t.handleBlur,onChange:t.handleChange,name:"subject",type:"text",isValid:!t.errors.subject,isTouched:t.touched.subject,className:"c-forms__input",value:t.values.subject,errorType:t.errors.subject,errorMessages:{required:n.ValidationRequired}})]}),n.CommentLabel&&(0,x.jsx)(v.Z,{component:"textarea",required:!0,isValid:!t.errors.comment,isTouched:t.touched.comment,onBlur:t.handleBlur,onChange:t.handleChange,value:t.values.comment,className:"c-forms__textarea",name:"comment",errorType:t.errors.comment,errorMessages:{required:n.ValidationRequired},children:(0,x.jsx)("label",{htmlFor:"comment",children:n.CommentLabel})}),n.EmailLabel&&(0,x.jsxs)(d.Fragment,{children:[(0,x.jsx)("label",{htmlFor:"email",children:n.EmailLabel}),(0,x.jsx)(v.Z,{component:"input",onBlur:t.handleBlur,onChange:t.handleChange,isValid:!t.errors.email,isTouched:t.touched.email,name:"email",type:"email",autoComplete:"email",className:"c-forms__input",value:t.values.email,errorType:t.errors.email,errorMessages:{email:n.ValidationEmailFormat}})]}),(0,x.jsx)("div",{"aria-live":"assertive",children:!1===e.state.Success&&(0,x.jsx)(b.Z,{type:"warning",Modifiers:{"c-alert--small":!0},children:(0,x.jsxs)("div",{children:[e.state.Title&&(0,x.jsx)("h3",{children:e.state.Title}),(0,x.jsx)("div",{dangerouslySetInnerHTML:{__html:e.state.Text}})]})})}),(0,x.jsxs)("div",{className:"contact-card-comment__content__footer",children:[(0,x.jsxs)("button",{type:"submit",disabled:t.isSubmitting,"data-cy":"ui-comment-form-submit-btn",className:u()({"c-forms__button":!0,"c-forms__button--is-loading":t.isSubmitting}),children:[(0,x.jsx)("span",{className:"c-forms__button__text",children:n.SendButtonLabel}),(0,x.jsx)(_.Z,{})]}),n.HasLinkList&&(0,x.jsx)("button",{className:"c-forms__button c-forms__button--secondary",onClick:function(){return e.hideForm()},children:(0,x.jsx)("span",{className:"c-forms__button__text",children:n.CancelButtonLabel})})]})]})})}})]})},e.ToggleFormButton=function(){var t=e.props.FeedbackForm;return(0,x.jsx)("h2",{children:(0,x.jsxs)("button",{"aria-controls":"contact-card-comment","aria-expanded":e.state.isOpen,className:u()({"contact-card-comment__header":!0,"contact-card-comment__header--is-open":e.state.isOpen}),onClick:function(){return e.handleClick()},type:"button","data-cy":"comment-form-toggle-btn",children:[(0,x.jsx)("span",{children:t.Title}),(0,x.jsx)("i",{className:u()({"contact-card-comment__header__chevron":!0,"contact-card-comment__header__chevron--is-expanded":e.state.isOpen})})]})})},e.LinkList=function(){var t=e.props.FeedbackForm;return(0,x.jsxs)("div",{className:u()({"contact-card-comment-link-list":!0,"contact-card-comment-link-list--is-hidden":e.state.showSubmitForm}),children:[(0,x.jsx)("h3",{className:"contact-card-comment-link-list__title",children:t.LinkListTitle}),(0,x.jsx)("div",{className:"contact-card-comment-link-list__wrapper",children:(0,x.jsx)("ul",{className:"contact-card-comment-link-list__list",children:t.Links.map((function(t,n){return(0,x.jsx)("li",{className:"contact-card-comment-link-list__list-item",children:t.IsForm?(0,x.jsx)("button",{className:"contact-card-comment-link-list__list-item__link","data-cy":"contact-card-feedbackform-btn",onClick:function(){return e.showForm()},children:(0,x.jsx)("span",{children:t.Title})}):(0,x.jsx)("a",{href:t.Url,className:"contact-card-comment-link-list__list-item__link",children:(0,x.jsx)("span",{children:t.Title})})},n)}))})})]})},e}return(0,o.Z)(n,[{key:"handleFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var t=document.getElementById(e);t&&t.focus()}}},{key:"componentDidUpdate",value:function(){this.state.isOpen&&!0!==this.state.Success&&(this.collapsible.current&&this.collapsible.current.extendsContent(),this.props.FeedbackForm.CommentLabel&&this.handleFocus("comment"))}},{key:"handleClick",value:function(){var e=document.createEvent("Event");e.initEvent("scroll",!0,!0),window.dispatchEvent(e),this.setState({isOpen:!this.state.isOpen,Success:null,Text:null,Title:null})}},{key:"handleSubmit",value:function(e,t){var n=this,s=t.setSubmitting;this.setState({Success:null,Text:null,Title:null}),this.setState({isLoading:!0});var a=new FormData;Object.entries(e).forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],s=t[1];a.append(n,s)})),this.submitForm(a).then((function(e){s(!1),n.setState({Success:e.Success,Text:e.Text,Title:e.Title,isLoading:!1})})).catch((function(){s(!1),n.setState({Success:!1,isLoading:!1,Title:"Error"})}))}},{key:"showForm",value:function(){this.setState({showSubmitForm:!0})}},{key:"hideForm",value:function(){this.setState({showSubmitForm:!1})}},{key:"validate",value:function(e){var t=this.props.FeedbackForm,n={};if(t.EmailLabel&&e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)&&(n.email="email"),!e.subject&&t.SubjectLabel&&(n.subject="required"),!e.comment&&t.CommentLabel&&(n.comment="required"),n){var s=Object.keys(n)[0];this.handleFocus(s)}return n}},{key:"render",value:function(){var e=this.props.FeedbackForm;return e?(0,x.jsxs)("div",{className:u()((0,s.Z)({"contact-card-comment":!0},this.props.Modifiers)),"data-cy":"comment-form",children:[this.ToggleFormButton(),(0,x.jsxs)("div",{"aria-hidden":!this.state.isOpen,id:"contact-card-comment",className:u()({"contact-card-comment__content":!0,"contact-card-comment__content--is-open":this.state.isOpen}),children:[!0!==this.state.Success&&(0,x.jsx)(d.Fragment,{children:e.Text&&e.Text.length>400?(0,x.jsx)(p.Z,{ref:this.collapsible,buttonReadMoreText:"Visa mer text",buttonReadLessText:"Visa mindre text",buttonChildren:(0,x.jsx)("i",{className:u()({"contact-card-comment__content-expand":!0})}),className:"contact-card-comment__content__text",children:(0,x.jsx)("div",{dangerouslySetInnerHTML:{__html:e.Text}})}):(0,x.jsx)("div",{dangerouslySetInnerHTML:{__html:e.Text}})}),this.state.showSubmitForm&&this.SubmitForm(),e.HasLinkList?this.LinkList():this.SubmitForm(),(0,x.jsx)("div",{className:"contact-card-comment__content__footer-text",dangerouslySetInnerHTML:{__html:e.ExtraText}})]})]}):null}}]),n}(d.Component);t.Z=g},3810:function(e,t,n){var s=n(36222),i=(n(26364),n(742)),a=n.n(i),o=n(9648);t.Z=function(e){if(!e.Content.InformationType)return null;var t=a()((0,s.Z)({},"information-type--".concat(e.Content.InformationType),e.Content.InformationType));return(0,o.jsx)("div",{className:t,children:(0,o.jsx)("div",{className:"information-type__icon"})})}},53757:function(e,t,n){var s=n(18489),i=(n(26364),n(80439)),a=n(3518),o=n(21252),l=n(40393),r=n(57291),c=n(85050),d=n(27641),m=n(3810),u=n(68087),h=n(84854),p=n(57288),_=n(92991),b=n(9648),v=(0,u.Z)((0,h.Z)(r.Z)),x=function(e){var t=e.ArticleTools,n=e.FeedbackForm,r=e.PageUrl,u=e.RatingComponent,h=e.MainContentGrid,x=e.SidebarGrid;return(0,b.jsxs)("main",{className:"main",children:[(0,b.jsxs)("div",{className:"article-main-content",children:[(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"columns",children:(0,b.jsx)(i.Z,(0,s.Z)((0,s.Z)({},e.Breadcrumbs),{},{Language:e.Language}))})}),(0,b.jsx)("div",{id:"content",className:"article-main-content__inner",dir:e.Dir,children:(0,b.jsxs)(d.Z,(0,s.Z)((0,s.Z)({},e),{},{children:[(0,b.jsx)(m.Z,(0,s.Z)({},e)),(0,b.jsxs)("div",{className:"row u-article-main",children:[(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)(a.Z,(0,s.Z)((0,s.Z)({Modifiers:{"c-articleheader--article-page":!0},Heading:l.Property(e.Content.Heading,"Heading"),HeadingTranslation:e.Content.HeadingTranslation,Preamble:l.Property(e.Content.Preamble,"Preamble"),SubjectAboveHeading:e.SubjectAboveHeading},e),{},{children:e.Content.ShowArticleTools&&t&&(0,b.jsx)(t,(0,s.Z)({},e))})),(0,b.jsx)(l.Block,{blocks:e.Content.Image,propertyName:"Image",currentPageProps:e,children:(0,b.jsx)(v,{UseZoom:!1,Modifiers:{"c-imageblock--main-image":!0},Sizes:{sizes:"(min-width: 1024px) 833px, 100vw"}})}),e.RenderMainContent?e.RenderMainContent:(0,b.jsx)("div",{className:"u-blocklist",children:(0,b.jsx)(l.Block,{blocks:e.Content.MainContent,propertyName:"MainContent",currentPageProps:e,children:e.BlockTypeRenderer})}),u,(0,b.jsx)(c.Z,(0,s.Z)({},e.Content)),e.Content.ArticleFooter&&(0,b.jsx)(p.Z,{ArticleFooter:e.Content.ArticleFooter,Translations:e.Content.Translations}),e.Content.RegionalArticleFooter&&(0,b.jsx)(p.Z,{ArticleFooter:e.Content.RegionalArticleFooter,Translations:e.Content.Translations}),!0!==e.Content.HideFeedbackForm&&(0,b.jsx)(_.Z,{FeedbackForm:n,PageUrl:r})]}),(0,b.jsx)("div",{className:x,children:(0,b.jsxs)("div",{className:"u-100-height",children:[e.Content&&e.Content.ShowLocalNav&&(0,b.jsx)(o.Z,(0,s.Z)({},e.LocalMenu)),e.RightColumnComponents&&e.RightColumnComponents]})})]})]}))})]}),(0,b.jsx)(l.Block,{blocks:e.Content.SectionContent,propertyName:"SectionContent",currentPageProps:e,children:e.BlockTypeRenderer})]})};x.defaultProps={MainContentGrid:"columns medium-offset-2 medium-8 large-6",SidebarGrid:"columns medium-2 large-3 show-for-large u-right-col"},t.Z=x}}]);
//# sourceMappingURL=683.9878425d.chunk.js.map